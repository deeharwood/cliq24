# Active Profile (local for development, set to 'prod' in production via SPRING_PROFILES_ACTIVE env var)
spring.profiles.active=${SPRING_PROFILES_ACTIVE:local}

# Server Configuration
server.port=${PORT:8080}
server.ssl.enabled=${SSL_ENABLED:false}
server.ssl.key-store=${SSL_KEYSTORE:classpath:keystore.p12}
server.ssl.key-store-password=${SSL_KEYSTORE_PASSWORD:changeit}
server.ssl.key-store-type=PKCS12
server.ssl.key-alias=cliq24

# Trust Railway's reverse proxy headers (required for HTTPS redirects to work correctly)
server.forward-headers-strategy=framework
server.tomcat.remoteip.remote-ip-header=x-forwarded-for
server.tomcat.remoteip.protocol-header=x-forwarded-proto

# Session Cookie Configuration (required for Safari/iOS OAuth)
server.servlet.session.cookie.same-site=none
server.servlet.session.cookie.secure=${SESSION_COOKIE_SECURE:false}
server.servlet.session.cookie.http-only=true

# JWT Cookie Security (set to true in production HTTPS, false in local HTTP)
jwt.cookie.secure=${JWT_COOKIE_SECURE:false}

spring.application.name=cliq24-backend

# Static Resources Configuration
spring.web.resources.static-locations=classpath:/static/
spring.web.resources.add-mappings=true

# File Upload Configuration
spring.servlet.multipart.enabled=true
spring.servlet.multipart.max-file-size=5MB
spring.servlet.multipart.max-request-size=5MB
file.upload.dir=uploads/profile-pictures

# MongoDB Configuration
spring.data.mongodb.uri=${MONGODB_URI:mongodb://localhost:27017/cliq24}
spring.data.mongodb.database=cliq24

# JWT Configuration (CHANGE IN PRODUCTION!)
jwt.secret=${JWT_SECRET:your-super-secret-jwt-key-change-this-in-production}
jwt.expiration=86400000

# Encryption Key (256-bit) - CHANGE IN PRODUCTION!
encryption.key=${ENCRYPTION_KEY:0123456789abcdef0123456789abcdef}

# CORS
cors.allowed.origins=${CORS_ORIGINS:http://localhost:3000,https://localhost:3000}

# Google OAuth2
spring.security.oauth2.client.registration.google.client-id=${GOOGLE_CLIENT_ID}
spring.security.oauth2.client.registration.google.client-secret=${GOOGLE_CLIENT_SECRET}
spring.security.oauth2.client.registration.google.scope=openid,email,profile
spring.security.oauth2.client.registration.google.redirect-uri=${GOOGLE_REDIRECT_URI:http://localhost:8080/login/oauth2/code/google}

# Google OAuth2 Provider
spring.security.oauth2.client.provider.google.authorization-uri=https://accounts.google.com/o/oauth2/v2/auth
spring.security.oauth2.client.provider.google.token-uri=https://oauth2.googleapis.com/token
spring.security.oauth2.client.provider.google.user-info-uri=https://www.googleapis.com/oauth2/v3/userinfo
spring.security.oauth2.client.provider.google.user-name-attribute=sub

# Facebook OAuth2
spring.security.oauth2.client.registration.facebook.client-id=${FACEBOOK_APP_ID}
spring.security.oauth2.client.registration.facebook.client-secret=${FACEBOOK_APP_SECRET}
spring.security.oauth2.client.registration.facebook.scope=email,public_profile
spring.security.oauth2.client.registration.facebook.redirect-uri={baseUrl}/api/social-accounts/facebook/callback
spring.security.oauth2.client.registration.facebook.authorization-grant-type=authorization_code
facebook.redirect.uri=https://cliq24.app/api/social-accounts/facebook/callback

# Facebook OAuth2 Provider
spring.security.oauth2.client.provider.facebook.authorization-uri=https://www.facebook.com/v18.0/dialog/oauth
spring.security.oauth2.client.provider.facebook.token-uri=https://graph.facebook.com/v18.0/oauth/access_token
spring.security.oauth2.client.provider.facebook.user-info-uri=https://graph.facebook.com/me?fields=id,name,email
spring.security.oauth2.client.provider.facebook.user-name-attribute=id

# Instagram OAuth2 (uses same Facebook app)
spring.security.oauth2.client.registration.instagram.client-id=${INSTAGRAM_APP_ID}
spring.security.oauth2.client.registration.instagram.client-secret=${INSTAGRAM_APP_SECRET}
spring.security.oauth2.client.registration.instagram.scope=instagram_basic,pages_show_list,instagram_manage_insights,pages_read_engagement
spring.security.oauth2.client.registration.instagram.redirect-uri={baseUrl}/api/social-accounts/instagram/callback
spring.security.oauth2.client.registration.instagram.authorization-grant-type=authorization_code
instagram.redirect.uri=https://cliq24.app/api/social-accounts/instagram/callback

# Instagram OAuth2 Provider
spring.security.oauth2.client.provider.instagram.authorization-uri=https://www.facebook.com/v18.0/dialog/oauth
spring.security.oauth2.client.provider.instagram.token-uri=https://graph.facebook.com/v18.0/oauth/access_token
spring.security.oauth2.client.provider.instagram.user-info-uri=https://graph.instagram.com/me?fields=id,username,account_type,media_count
spring.security.oauth2.client.provider.instagram.user-name-attribute=id

# Twitter/X OAuth2
spring.security.oauth2.client.registration.twitter.client-id=${TWITTER_CLIENT_ID}
spring.security.oauth2.client.registration.twitter.client-secret=${TWITTER_CLIENT_SECRET}
spring.security.oauth2.client.registration.twitter.scope=tweet.read,users.read,follows.read,offline.access
spring.security.oauth2.client.registration.twitter.redirect-uri=https://cliq24.app/api/social-accounts/twitter/callback
spring.security.oauth2.client.registration.twitter.authorization-grant-type=authorization_code
spring.security.oauth2.client.registration.twitter.client-authentication-method=client_secret_basic
twitter.redirect.uri=https://cliq24.app/api/social-accounts/twitter/callback

# Twitter/X OAuth2 Provider
spring.security.oauth2.client.provider.twitter.authorization-uri=https://twitter.com/i/oauth2/authorize
spring.security.oauth2.client.provider.twitter.token-uri=https://api.twitter.com/2/oauth2/token
spring.security.oauth2.client.provider.twitter.user-info-uri=https://api.twitter.com/2/users/me
spring.security.oauth2.client.provider.twitter.user-name-attribute=data.id

# TikTok OAuth2
tiktok.client.key=${TIKTOK_CLIENT_KEY}
tiktok.client.secret=${TIKTOK_CLIENT_SECRET}
tiktok.redirect.uri=https://cliq24.app/api/social-accounts/tiktok/callback

# LinkedIn OAuth2
spring.security.oauth2.client.registration.linkedin.client-id=${LINKEDIN_CLIENT_ID}
spring.security.oauth2.client.registration.linkedin.client-secret=${LINKEDIN_CLIENT_SECRET}
spring.security.oauth2.client.registration.linkedin.scope=openid,profile,email
spring.security.oauth2.client.registration.linkedin.redirect-uri={baseUrl}/api/social-accounts/linkedin/callback
spring.security.oauth2.client.registration.linkedin.authorization-grant-type=authorization_code
spring.security.oauth2.client.registration.linkedin.client-authentication-method=client_secret_post
linkedin.redirect.uri=https://cliq24.app/api/social-accounts/linkedin/callback

# LinkedIn OAuth2 Provider
spring.security.oauth2.client.provider.linkedin.authorization-uri=https://www.linkedin.com/oauth/v2/authorization
spring.security.oauth2.client.provider.linkedin.token-uri=https://www.linkedin.com/oauth/v2/accessToken
spring.security.oauth2.client.provider.linkedin.user-info-uri=https://api.linkedin.com/v2/userinfo
spring.security.oauth2.client.provider.linkedin.user-name-attribute=sub

# YouTube OAuth (uses Google OAuth with YouTube scopes)
spring.security.oauth2.client.registration.youtube.client-id=${GOOGLE_CLIENT_ID}
spring.security.oauth2.client.registration.youtube.client-secret=${GOOGLE_CLIENT_SECRET}
spring.security.oauth2.client.registration.youtube.scope=openid,email,profile,https://www.googleapis.com/auth/youtube.readonly
spring.security.oauth2.client.registration.youtube.redirect-uri=https://cliq24.app/api/social-accounts/youtube/callback
spring.security.oauth2.client.registration.youtube.authorization-grant-type=authorization_code
youtube.redirect.uri=https://cliq24.app/api/social-accounts/youtube/callback

# YouTube OAuth Provider (uses Google)
spring.security.oauth2.client.provider.youtube.authorization-uri=https://accounts.google.com/o/oauth2/v2/auth
spring.security.oauth2.client.provider.youtube.token-uri=https://oauth2.googleapis.com/token
spring.security.oauth2.client.provider.youtube.user-info-uri=https://www.googleapis.com/oauth2/v3/userinfo
spring.security.oauth2.client.provider.youtube.user-name-attribute=sub

# YouTube Data API
youtube.api.key=${YOUTUBE_API_KEY:your-youtube-api-key}

# Stripe Payment Configuration
stripe.api.secret-key=${STRIPE_SECRET_KEY:sk_test_placeholder}
stripe.api.publishable-key=${STRIPE_PUBLISHABLE_KEY:pk_test_placeholder}
stripe.webhook.secret=${STRIPE_WEBHOOK_SECRET:whsec_placeholder}
stripe.price.id=${STRIPE_PRICE_ID:price_placeholder}

# Snapchat OAuth2 (Snap Kit)
spring.security.oauth2.client.registration.snapchat.client-id=${SNAPCHAT_CLIENT_ID:snapchat_placeholder}
spring.security.oauth2.client.registration.snapchat.client-secret=${SNAPCHAT_CLIENT_SECRET:snapchat_secret_placeholder}
spring.security.oauth2.client.registration.snapchat.scope=https://auth.snapchat.com/oauth2/api/user.display_name,https://auth.snapchat.com/oauth2/api/user.external_id
spring.security.oauth2.client.registration.snapchat.redirect-uri=${SNAPCHAT_REDIRECT_URI:http://localhost:8080/api/social-accounts/snapchat/callback}
spring.security.oauth2.client.registration.snapchat.authorization-grant-type=authorization_code

# Snapchat OAuth2 Provider
spring.security.oauth2.client.provider.snapchat.authorization-uri=https://accounts.snapchat.com/accounts/oauth2/auth
spring.security.oauth2.client.provider.snapchat.token-uri=https://accounts.snapchat.com/accounts/oauth2/token
spring.security.oauth2.client.provider.snapchat.user-info-uri=https://kit.snapchat.com/v1/me
spring.security.oauth2.client.provider.snapchat.user-name-attribute=externalId

# Snapchat redirect URI (separate property for easier configuration)
snapchat.redirect.uri=${SNAPCHAT_REDIRECT_URI:http://localhost:8080/api/social-accounts/snapchat/callback}

# Logging Configuration
# Set to WARN in production to reduce log spam, DEBUG in local development
logging.level.root=WARN
logging.level.com.cliq24=${LOG_LEVEL:WARN}
logging.level.org.springframework.security=WARN
logging.level.org.springframework.security.oauth2=WARN
logging.level.org.springframework.web=WARN
logging.level.org.springframework.boot=WARN
logging.level.org.mongodb=WARN



